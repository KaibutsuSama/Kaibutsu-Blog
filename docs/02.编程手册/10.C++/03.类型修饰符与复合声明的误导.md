---
title: 类型修饰符与复合声明的误导
date: 2023-05-27 00:38:58
permalink: /pages/44399b/
tags:
  - C++
author: 
  name: KaibutsuSama
  link: https://github.com/kaibutsusama
---

## 定义多个变量

在程序中，变量是由3个部分组成

1. 类型，如int，long
2. 修饰符，如*，&
3. 声明符，如变量名

基于以上，数据类型是唯一的，但是修饰符和声明符在一条语句中是可存在多个

```cpp
int i = 1024, *p = &i, &r = i;
```

### 误区

经常一种的观点是认为在一条定于语句中，修饰符是作用于本次定义的全部变量
```cpp
int* p; // 合法但有误区
```

上述代码中，p是一个指向int的指针，但是这种理解是错误的，实际上，p是一个int型指针，而不是指向int的指针，因此，上述代码应该写成
```cpp
int *p;
```

这种写法产生误区的原因在于*只是修饰p，而不是修饰int，p是指向int的

```cpp
int* p1,p2;
```
以上代码，p1是指向int的指针，而p2是int型变量，因此，如果想让p2也成为一个指针，应该写成
```cpp
int *p1, *p2;
```

或者
```cpp
int *p1;
int *p2;
```

##总结

基于以上，将*或者&放在类型修饰符的前面，而不是变量名的前面，可以避免上述误区
